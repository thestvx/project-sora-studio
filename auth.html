<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SORA STUDIO — Login</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Noto+Sans+Arabic:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --brand: #161B91; }
        body { 
            font-family: 'Inter', 'Noto Sans Arabic', sans-serif; 
            background: #ffffff; /* تطابق مع الـ index */
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* شبكة الصور المتحركة بأسلوب ناعم فاتح */
        .bg-grid {
            position: fixed;
            top: 0; left: 0; width: 150%; height: 150%;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            z-index: -1;
            transform: rotate(-10deg) translate(-10%, -10%);
            filter: opacity(0.15) grayscale(0.2); /* جعلها باهتة لتناسب الثيم الفاتح */
            animation: moveGrid 80s linear infinite;
        }
        .bg-grid img {
            width: 100%; height: 280px; object-fit: cover; border-radius: 2.5rem;
        }

        @keyframes moveGrid {
            0% { transform: rotate(-10deg) translateY(0); }
            100% { transform: rotate(-10deg) translateY(-50%); }
        }

        /* نافذة تسجيل الدخول - مطابقة لأسلوب الناف بار */
        .auth-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(22, 27, 145, 0.1);
            border-radius: 3.5rem;
            box-shadow: 0 30px 60px -15px rgba(22, 27, 145, 0.1);
            transition: all 0.5s ease;
        }

        /* تخصيص المدخلات لتطابق هوية الموقع */
        input {
            border: 2px solid #f8fafc !important;
            background: #f8fafc !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        input:focus {
            background: white !important;
            border-color: var(--brand) !important;
            box-shadow: 0 10px 20px -5px rgba(22, 27, 145, 0.1);
            outline: none;
        }

        .custom-button {
            background: var(--brand);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px -10px rgba(22, 27, 145, 0.3);
        }
        .custom-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px -10px rgba(22, 27, 145, 0.5);
        }

        .hero-gradient-text { 
            background: linear-gradient(135deg, var(--brand) 0%, #4f46e5 100%); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
    </style>
</head>
<body class="p-6">

    <div class="bg-grid">
        <img src="https://images.unsplash.com/photo-1542038784456-1ea8e935640e?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1533310266094-8898a03807dd?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1520854221256-17451cc331bf?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1554048612-b6a482bc67e5?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1542038784456-1ea8e935640e?auto=format&fit=crop&w=500">
        <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&w=500">
    </div>

    <div class="auth-card max-w-md w-full p-10 md:p-14 text-center relative overflow-hidden">
        
        <div class="mb-10">
            <a href="index.html" class="inline-block mb-4">
                <h1 class="text-3xl font-black text-[#161B91] tracking-tighter uppercase">SORA STUDIO</h1>
            </a>
            <div class="flex items-center gap-2 justify-center">
                <span class="w-6 h-[1px] bg-gray-200"></span>
                <p id="auth-tagline" class="text-[9px] font-black uppercase tracking-[0.3em] text-gray-400">Welcome Member</p>
                <span class="w-6 h-[1px] bg-gray-200"></span>
            </div>
        </div>

        <button onclick="loginWithGoogle()" class="w-full py-4 rounded-2xl flex items-center justify-center gap-3 mb-8 font-bold text-gray-600 border border-gray-100 hover:bg-gray-50 transition-all">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5">
            <span class="text-xs uppercase tracking-widest font-black">Google Login</span>
        </button>

        <div class="relative mb-8">
            <hr class="border-gray-50">
            <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-4 text-[8px] text-gray-300 font-black uppercase tracking-widest">Or Email</span>
        </div>

        <div id="login-section" class="space-y-4">
            <input type="email" id="email" placeholder="Email Address" class="w-full p-5 rounded-2xl font-bold text-[#161B91] text-sm">
            <input type="password" id="pass" placeholder="Password" class="w-full p-5 rounded-2xl font-bold text-[#161B91] text-sm">
            
            <button onclick="handleAuth('login')" class="w-full py-5 rounded-2xl text-white font-black text-[10px] uppercase tracking-[0.2em] custom-button mt-4">
                Sign In
            </button>
            
            <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest pt-6">
                New Member? <span onclick="toggleMode()" class="text-[#161B91] cursor-pointer underline">Create Account</span>
            </p>
        </div>

        <div id="signup-section" class="space-y-4 hidden">
            <input type="email" id="s-email" placeholder="New Email" class="w-full p-5 rounded-2xl font-bold text-[#161B91] text-sm">
            <input type="password" id="s-pass" placeholder="New Password" class="w-full p-5 rounded-2xl font-bold text-[#161B91] text-sm">
            
            <button onclick="handleAuth('signup')" class="w-full py-5 rounded-2xl text-white font-black text-[10px] uppercase tracking-[0.2em] custom-button mt-4">
                Join Community
            </button>
            
            <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest pt-6">
                Already Member? <span onclick="toggleMode()" class="text-[#161B91] cursor-pointer underline">Login</span>
            </p>
        </div>

    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBhaFmPrWIOFYXyJysEftqi_EQfwmPQveI",
            authDomain: "sora-studio-c1022.firebaseapp.com",
            projectId: "sora-studio-c1022",
            storageBucket: "sora-studio-c1022.firebasestorage.app",
            messagingSenderId: "131507794314",
            appId: "1:131507794314:web:061eb09cb52a05a6e21873"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.loginWithGoogle = async () => {
            try {
                await signInWithPopup(auth, provider);
                window.location.href = "index.html";
            } catch (err) { alert("Error: " + err.message); }
        };

        window.handleAuth = async (mode) => {
            const email = mode === 'login' ? document.getElementById('email').value : document.getElementById('s-email').value;
            const pass = mode === 'login' ? document.getElementById('pass').value : document.getElementById('s-pass').value;
            if(!email || !pass) return alert("Please fill all fields");
            try {
                if(mode === 'login') await signInWithEmailAndPassword(auth, email, pass);
                else await createUserWithEmailAndPassword(auth, email, pass);
                window.location.href = "index.html";
            } catch (err) { alert("Failed: " + err.message); }
        };

        window.toggleMode = () => {
            document.getElementById('login-section').classList.toggle('hidden');
            document.getElementById('signup-section').classList.toggle('hidden');
            document.getElementById('auth-tagline').innerText = 
                document.getElementById('login-section').classList.contains('hidden') ? "Join Sora Studio" : "Welcome Member";
        };
    </script>
</body>
</html>
